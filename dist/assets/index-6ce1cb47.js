import{d as S,u as U,a as k,r as f,b as C,c as B,e as n,f as F,g as e,w as l,o as $,h as a,i as b,l as H,j as P,E as g,p as R,k as T,m as w,_ as j}from"./index-e586b318.js";import{g as q}from"./time-e894181e.js";const v=i=>(R("data-v-2e01c2c9"),i=i(),T(),i),z={class:"login_container"},A=v(()=>w("h1",null,"Hello",-1)),L=v(()=>w("h2",null,"Welcome Admin",-1)),W=S({__name:"index",setup(i){let _=U(),h=k(),d=f(!1),x=C(),p=f(),r=B({userName:"admin",password:"123456"});const y=async()=>{await p.value.validate(),d.value=!0;try{await x.userLogin(r);let o=h.query.redirect;console.log(o),_.push({path:o||"/"}),_.push("/"),g({type:"success",message:"欢迎回来",title:`HI,${q()}好`}),d.value=!1}catch(o){console.log(o),d.value=!1,g({type:"error",message:o.message})}},N={userName:[{trigger:"change",validator:(o,s,t)=>{s.length>=5?t():t(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(o,s,t)=>{s.length>=6?t():t(new Error("密码长度至少六位"))}}]};return(o,s)=>{const t=n("el-col"),m=n("el-input"),u=n("el-form-item"),V=n("el-button"),E=n("el-form"),I=n("el-row");return $(),F("div",z,[e(I,null,{default:l(()=>[e(t,{span:12,xs:0}),e(t,{span:12,xs:24},{default:l(()=>[e(E,{class:"login_form",model:a(r),rules:N,ref_key:"loginForms",ref:p},{default:l(()=>[A,L,e(u,{prop:"userName"},{default:l(()=>[e(m,{"prefix-icon":a(b),modelValue:a(r).userName,"onUpdate:modelValue":s[0]||(s[0]=c=>a(r).userName=c)},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,{prop:"password"},{default:l(()=>[e(m,{type:"password","prefix-icon":a(H),modelValue:a(r).password,"onUpdate:modelValue":s[1]||(s[1]=c=>a(r).password=c),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,null,{default:l(()=>[e(V,{loading:a(d),class:"login_btn",type:"primary",size:"default",onClick:y},{default:l(()=>[P("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const M=j(W,[["__scopeId","data-v-2e01c2c9"]]);export{M as default};
